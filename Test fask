local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local StarterGui = game:GetService("StarterGui")
local LocalPlayer = Players.LocalPlayer

-- ğŸ“Œ Webhook Discord (Thay báº±ng link webhook cá»§a báº¡n)
local WebhookURL = "https://discord.com/api/webhooks/1353331618802044928/HWkDOTGUkOz_IWQGzdYVz-7aK75-R5yDN07Lw2PIpNkeo3Szj6Gv2N5S3sdWwGcXEDfj"

-- ğŸ“Œ Hiá»ƒn thá»‹ thÃ´ng bÃ¡o trÃªn mÃ n hÃ¬nh
local function showNotification(title, text, duration)
    StarterGui:SetCore("SendNotification", {
        Title = title;
        Text = text;
        Duration = duration;
    })
end

-- ğŸ“Œ Táº¡o UI hiá»ƒn thá»‹ thÃ´ng bÃ¡o
local function createUI()
    local ScreenGui = Instance.new("ScreenGui")
    local Frame = Instance.new("Frame")
    local TextLabel = Instance.new("TextLabel")

    -- Thuá»™c tÃ­nh cá»§a UI
    ScreenGui.Parent = game.CoreGui
    Frame.Parent = ScreenGui
    Frame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    Frame.BorderSizePixel = 2
    Frame.Position = UDim2.new(0.35, 0, 0.1, 0)
    Frame.Size = UDim2.new(0.3, 0, 0.1, 0)
    Frame.BackgroundTransparency = 0.5

    TextLabel.Parent = Frame
    TextLabel.Size = UDim2.new(1, 0, 1, 0)
    TextLabel.Text = "ğŸ” Äang kiá»ƒm tra trÃ¡i Ã¡c quá»·..."
    TextLabel.TextScaled = true
    TextLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    TextLabel.BackgroundTransparency = 1

    return TextLabel
end

-- ğŸ“Œ Gá»­i thÃ´ng bÃ¡o khi khá»Ÿi Ä‘á»™ng script
local function startupMessage(uiLabel)
    uiLabel.Text = "ğŸ” Äang kiá»ƒm tra trÃ¡i Ã¡c quá»·..."
    showNotification("Plow Hub | Auto Fruit", "ğŸš€ Äang tÃ¬m trÃ¡i Ã¡c quá»·...", 5)
end

-- ğŸ“Œ TÃ¬m trÃ¡i Ã¡c quá»· gáº§n nháº¥t vÃ  hiá»ƒn thá»‹ trÃªn UI
local function findNearestFruit(uiLabel)
    for _, fruit in pairs(Workspace:GetChildren()) do
        if fruit:IsA("Model") and fruit.Name:find("Fruit") and fruit:FindFirstChild("Handle") then
            local fruitPosition = fruit.Handle.Position
            showNotification("Plow Hub | Auto Fruit", "âœ… TÃ¬m tháº¥y trÃ¡i " .. fruit.Name, 3)
            uiLabel.Text = "âœ… TÃ¬m tháº¥y trÃ¡i: " .. fruit.Name
            return fruit
        end
    end
    uiLabel.Text = "âŒ KhÃ´ng cÃ³ trÃ¡i Ã¡c quá»·"
    return nil
end

-- ğŸ“Œ Äá»•i server náº¿u khÃ´ng cÃ³ trÃ¡i
local function switchServerAfterDelay(uiLabel)
    print("â³ KhÃ´ng cÃ³ trÃ¡i, chá» 7 giÃ¢y trÆ°á»›c khi Ä‘á»•i server...")
    uiLabel.Text = "â³ KhÃ´ng cÃ³ trÃ¡i! Chá» 7 giÃ¢y..."
    showNotification("Plow Hub | Auto Fruit", "KhÃ´ng cÃ³ trÃ¡i! Äang chá» 7 giÃ¢y...", 7)
    wait(7) -- Chá» 7 giÃ¢y
    TeleportService:Teleport(game.PlaceId, LocalPlayer)
end

-- ğŸ“Œ TÃ¬m vÃ  lÆ°u trá»¯ trÃ¡i, sau Ä‘Ã³ Ä‘á»•i server náº¿u cáº§n
local function checkAndStoreFruit(uiLabel)
    local fruit = findNearestFruit(uiLabel)

    if fruit then
        showNotification("Plow Hub | Auto Fruit", "âœ… Äang nháº·t trÃ¡i...", 3)
        uiLabel.Text = "âœ… Äang nháº·t trÃ¡i..."
        -- LÆ°u trÃ¡i vÃ o kho (Giáº£ láº­p nháº·t trÃ¡i)
        wait(3)
        showNotification("Plow Hub | Auto Fruit", "âœ… ÄÃ£ lÆ°u trÃ¡i vÃ o kho!", 3)
        uiLabel.Text = "âœ… ÄÃ£ lÆ°u trÃ¡i vÃ o kho!"
    else
        switchServerAfterDelay(uiLabel) -- KhÃ´ng cÃ³ trÃ¡i, chá» 7 giÃ¢y rá»“i Ä‘á»•i server
    end
end

-- ğŸ“Œ Báº¯t Ä‘áº§u script
local function startScript()
    local uiLabel = createUI() -- Táº¡o UI hiá»ƒn thá»‹ thÃ´ng bÃ¡o
    startupMessage(uiLabel) -- Hiá»ƒn thá»‹ thÃ´ng bÃ¡o khi cháº¡y script
    checkAndStoreFruit(uiLabel) -- TÃ¬m trÃ¡i, lÆ°u vÃ o kho, Ä‘á»•i server
end

startScript()
